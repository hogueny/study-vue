{"version":3,"sources":["webpack:///./src/components/Board.vue?66cd","webpack:///src/components/Board.vue","webpack:///./src/components/Board.vue?d348","webpack:///./src/components/Board.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","user","id","staticClass","attrs","header-tag","footer-tag","slot","_v","_s","boardName","href","rel","target","width","_l","item","key","on","click","$event","getMessageDetail","title","_f","regDate","pageInfo","page","paging","no-body","cols","sm","md","type","placeholder","model","value","message","callback","$$v","$set","expression","block","variant","createMessage","show","dismissCountDown","dismissible","dismissed","dismissCountdown","dismiss-count-down","countDownChanged","msg","staticRenderFns","Boardvue_type_script_lang_js_","name","data","boardId","$route","query","contents","watch","$route.query","params","console","log","$store","dispatch","concat","mutation_types","components","permission","created","computed","Object","objectSpread","vuex_esm","methods","$router","push","setNoti","_createMessage","asyncToGenerator","regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","sent","error","abrupt","stop","apply","arguments","filters","dateToPritty","moment_default","local","format","components_Boardvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0e4eaa.d578fd58.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.user.id !== -1)?_c('div',{staticClass:\"message-page\"},[_c('b-card',{attrs:{\"header-tag\":\"header\",\"footer-tag\":\"footer\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('i',{staticClass:\"fa fa-align-justify\"}),_c('strong',[_vm._v(_vm._s(_vm.boardName))]),_c('div',{staticClass:\"card-header-actions\"},[_c('a',{staticClass:\"card-header-action\",attrs:{\"href\":\"https://bootstrap-vue.js.org/docs/components/list-group\",\"rel\":\"noreferrer noopener\",\"target\":\"_blank\"}},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"docs\")])])])]),_c('div',[_c('table',{attrs:{\"width\":\"\"}},[_c('tr',[_c('th',[_vm._v(\"Id\")]),_c('th',[_vm._v(\"Title\")]),_c('th',[_vm._v(\"RegDate\")])]),_vm._l((_vm.messages),function(item){return _c('tr',{key:item.id},[_c('td',[_vm._v(\" \"+_vm._s(item.id)+\" \")]),_c('b-button',{on:{\"click\":function($event){_vm.getMessageDetail(item.id)}}},[_c('td',[_vm._v(_vm._s(item.title))])]),_c('td',[_vm._v(_vm._s(_vm._f(\"dateToPritty\")(item.regDate)))])],1)})],2),_vm._l((_vm.pageInfo.totalPage),function(page){return _c('span',{key:page},[_c('b-button',{on:{\"click\":function($event){_vm.paging(page)}}},[_vm._v(_vm._s(page))])],1)})],2)]),_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-card-header',[_c('strong',[_vm._v(\"메시지 생성\")])]),_c('b-card-body',[_c('b-row',{staticClass:\"align-items-center\"},[_c('b-col',{attrs:{\"cols\":\"6\",\"sm\":\"4\",\"md\":\"2\"}},[_c('b-input-group',[_c('b-input-group-prepend',[_c('b-input-group-text',[_c('i',{staticClass:\"cui-info icons\"})])],1),_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Title\"},model:{value:(_vm.message.title),callback:function ($$v) {_vm.$set(_vm.message, \"title\", $$v)},expression:\"message.title\"}})],1),_c('b-form-group',[_c('b-input-group',[_c('b-input-group-prepend',[_c('b-input-group-text',[_c('i',{staticClass:\"cui-info icons\"})])],1),_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Contents\"},model:{value:(_vm.message.contents),callback:function ($$v) {_vm.$set(_vm.message, \"contents\", $$v)},expression:\"message.contents\"}})],1)],1),_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"primary\"},on:{\"click\":_vm.createMessage}},[_vm._v(\"작성\")])],1)],1)],1)],1)],1):_c('div',[_c('permission')],1),_c('b-alert',{attrs:{\"show\":_vm.dismissCountDown,\"dismissible\":\"\",\"variant\":_vm.type},on:{\"dismissed\":function($event){_vm.dismissCountdown=0},\"dismiss-count-down\":_vm.countDownChanged}},[_vm._v(_vm._s(_vm.msg))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"message-page\" v-if=\"user.id !== -1\">\n\n      <b-card header-tag=\"header\" footer-tag=\"footer\">\n        <div slot=\"header\">\n          <i class=\"fa fa-align-justify\"></i>\n          <strong>{{boardName}}</strong>\n          <div class=\"card-header-actions\">\n            <a\n              href=\"https://bootstrap-vue.js.org/docs/components/list-group\"\n              class=\"card-header-action\"\n              rel=\"noreferrer noopener\"\n              target=\"_blank\"\n            >\n              <small class=\"text-muted\">docs</small>\n            </a>\n          </div>\n        </div>\n            <div>\n              <table width>\n                <tr>\n                  <th>Id</th>\n                  <th>Title</th>\n                  <th>RegDate</th>\n                </tr>\n                 \n                <tr v-for=\"item in messages\" :key=\"item.id\">\n                  <td> {{item.id }} </td>\n                  <b-button @click=\"getMessageDetail(item.id)\">\n                  <td>{{ item.title }}</td>\n                  </b-button>\n                  <td>{{ item.regDate | dateToPritty}}</td>\n                \n                </tr>\n                \n              </table>\n              <span v-for=\"page in pageInfo.totalPage\" :key=\"page\">\n                <b-button @click=\"paging(page)\">{{page}}</b-button>\n              </span>\n            </div>\n      </b-card>\n\n        <b-card no-body>\n           <b-card-header>\n             <strong>메시지 생성</strong>\n           </b-card-header>\n        <b-card-body>\n          <b-row class=\"align-items-center\">\n            <b-col cols=\"6\" sm=\"4\" md=\"2\">\n              \n              <b-input-group>\n                <b-input-group-prepend>\n                  <b-input-group-text>\n                    <i class=\"cui-info icons\"></i>\n                      </b-input-group-text>\n                  </b-input-group-prepend>\n                <b-form-input type=\"text\" placeholder=\"Title\" v-model=\"message.title\"></b-form-input>\n              </b-input-group>\n              \n              <b-form-group>\n                <b-input-group>\n                  <b-input-group-prepend>\n                    <b-input-group-text>\n                      <i class=\"cui-info icons\"></i>\n                    </b-input-group-text>\n                  </b-input-group-prepend>\n                    <b-form-input type=\"text\" placeholder=\"Contents\" v-model=\"message.contents\"></b-form-input>\n                </b-input-group>\n              </b-form-group>\n              <b-button block variant=\"primary\" @click=\"createMessage\">작성</b-button>\n            </b-col>\n          </b-row>\n        </b-card-body>\n      </b-card>\n    </div>\n    <div v-else>\n      <permission/>\n    </div>\n    <b-alert\n      :show=\"dismissCountDown\"\n      dismissible\n      :variant=\"type\"\n      @dismissed=\"dismissCountdown=0\"\n      @dismiss-count-down=\"countDownChanged\"\n    >{{msg}}</b-alert>\n  </div>\n</template>\n\n<script>\nimport * as TYPE from \"../config/mutation-types\";\nimport { mapGetters } from \"vuex\";\nimport permission from \"../views/pages/permission\";\nimport moment from \"moment\";\nimport { async } from \"q\";\nimport Router from 'vue-router';\n\nexport default {\n  name: \"message-page\",\n  data: function() {\n    return {\n      message: {\n        boardId: this.$route.query.id,\n        title: \"\",\n        contents: \"\"\n      },\n      boardId: this.$route.query.id,\n      page: this.$route.query.page,\n      dismissCountDown: 0,\n      msg: \"\",\n      type: \"success\"\n\n    };\n  },\n   watch: {\n      \"$route.query\": function (params) {\n          console.log(\"--board.vue--\")\n          console.log(\"params : \", params)\n          console.log(\"id:\",params.id,\"page:\",params.page)\n          this.boardId = params.id\n          this.title = params.title\n          this.page = params.page\n          this.$store.dispatch(`${TYPE.GET_MESSAGES}`,[this.boardId,this.page]);\n      }\n    },\n  components: {\n    permission\n  },\n  created: function() {\n    this.$store.dispatch(`${TYPE.GET_MESSAGES}`,[this.boardId,this.page]);\n  },\n  computed: {\n    ...mapGetters([\"user\", \"boards\", \"messages\", \"pageInfo\"]),\n    boardName: function () {\n      return this.$route.query.name\n    }\n  },\n  methods: {\n    getMessageDetail(id) {\n      console.log(\"-----getMessageDetail---------\");\n      console.log(\"messageId : \",id);\n      this.$store.dispatch(`${TYPE.GET_MESSAGE_DETAIL}`,id);\n      this.$router.push('board/Message'); // 상세보기\n    },\n    paging(page){\n      // 버튼을 누를시 page값을 줄수있도록 하자\n      console.log(\"버튼 : \",page);\n      this.$route.query.page = page;\n      console.log(\"쿼리파라미터\",this.$route.query.page);\n      this.$store.dispatch(`${TYPE.GET_MESSAGES}`,[this.boardId,this.$route.query.page]);\n    },\n    setNoti(msg, type) {\n      this.msg = msg;\n      this.type = type;\n      this.dismissCountDown = 3;\n    },\n    countDownChanged(dismissCountDown) {\n      this.dismissCountDown = dismissCountDown;\n    },\n    createMessage: async function() {\n      const result = await this.$store.dispatch(\n        `${TYPE.CREATE_MESSAGE}`,\n        this.message\n      );\n      if (result !== 201) {\n        if (result === 500) {\n          console.error(\"서버 에러\");\n          this.setNoti(\"서버 에러\", \"danger\");\n        }\n        if (result === 400) {\n          console.error(\"제목이 최소 3글자 되야함\");\n          this.setNoti(\"제목이 최소 3글자 되야 함\", \"danger\");\n        }\n        if (result === 404) {\n          console.error(\"사용자가 없음\");\n          this.setNoti(\"사용자가 없음\", \"danger\");\n        }\n        if (result === 4001) {\n          console.error(\"권한이 없음\");\n          this.setNoti(\"권한이 없음\", \"danger\");\n        }\n        return false;\n      }\n      console.log(\"성공적으로 생성됨\");\n      this.setNoti(\"성공적으로 생성됨\", \"success\");\n    }\n  },\n  \n  filters: {\n    dateToPritty: function(target) {\n      return moment(target)\n        .local()\n        .format(\"YYYY-MM-DD HH:mm:ss\");\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Board.vue?vue&type=template&id=3e818f24&\"\nimport script from \"./Board.vue?vue&type=script&lang=js&\"\nexport * from \"./Board.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Board.vue\"\nexport default component.exports"],"sourceRoot":""}