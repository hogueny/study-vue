(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e4eaa"],{"91ea":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[-1!==t.user.id?s("div",{staticClass:"message-page"},[s("b-card",{attrs:{"header-tag":"header","footer-tag":"footer"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("i",{staticClass:"fa fa-align-justify"}),s("strong",[t._v(t._s(t.boardName))]),s("div",{staticClass:"card-header-actions"},[s("a",{staticClass:"card-header-action",attrs:{href:"https://bootstrap-vue.js.org/docs/components/list-group",rel:"noreferrer noopener",target:"_blank"}},[s("small",{staticClass:"text-muted"},[t._v("docs")])])])]),s("div",[s("table",{attrs:{width:""}},[s("tr",[s("th",[t._v("Id")]),s("th",[t._v("Title")]),s("th",[t._v("RegDate")])]),t._l(t.messages,function(e){return s("tr",{key:e.id},[s("td",[t._v(" "+t._s(e.id)+" ")]),s("b-button",{on:{click:function(s){t.getMessageDetail(e.id)}}},[s("td",[t._v(t._s(e.title))])]),s("td",[t._v(t._s(t._f("dateToPritty")(e.regDate)))])],1)})],2),t._l(t.pageInfo.totalPage,function(e){return s("span",{key:e},[s("b-button",{on:{click:function(s){t.paging(e)}}},[t._v(t._s(e))])],1)})],2)]),s("b-card",{attrs:{"no-body":""}},[s("b-card-header",[s("strong",[t._v("메시지 생성")])]),s("b-card-body",[s("b-row",{staticClass:"align-items-center"},[s("b-col",{attrs:{cols:"6",sm:"4",md:"2"}},[s("b-input-group",[s("b-input-group-prepend",[s("b-input-group-text",[s("i",{staticClass:"cui-info icons"})])],1),s("b-form-input",{attrs:{type:"text",placeholder:"Title"},model:{value:t.message.title,callback:function(e){t.$set(t.message,"title",e)},expression:"message.title"}})],1),s("b-form-group",[s("b-input-group",[s("b-input-group-prepend",[s("b-input-group-text",[s("i",{staticClass:"cui-info icons"})])],1),s("b-form-input",{attrs:{type:"text",placeholder:"Contents"},model:{value:t.message.contents,callback:function(e){t.$set(t.message,"contents",e)},expression:"message.contents"}})],1)],1),s("b-button",{attrs:{block:"",variant:"primary"},on:{click:t.createMessage}},[t._v("작성")])],1)],1)],1)],1)],1):s("div",[s("permission")],1),s("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.type},on:{dismissed:function(e){t.dismissCountdown=0},"dismiss-count-down":t.countDownChanged}},[t._v(t._s(t.msg))])],1)},a=[],n=(s("96cf"),s("1da1")),i=(s("7f7f"),s("be94")),r=s("a394"),c=s("2f62"),u=s("77bf"),d=s("c1df"),l=s.n(d),g=(s("4be7"),{name:"message-page",data:function(){return{message:{boardId:this.$route.query.id,title:"",contents:""},boardId:this.$route.query.id,page:this.$route.query.page,dismissCountDown:0,msg:"",type:"success"}},watch:{"$route.query":function(t){console.log("--board.vue--"),console.log("params : ",t),console.log("id:",t.id,"page:",t.page),this.boardId=t.id,this.title=t.title,this.page=t.page,this.$store.dispatch("".concat(r["i"]),[this.boardId,this.page])}},components:{permission:u["default"]},created:function(){this.$store.dispatch("".concat(r["i"]),[this.boardId,this.page])},computed:Object(i["a"])({},Object(c["b"])(["user","boards","messages","pageInfo"]),{boardName:function(){return this.$route.query.name}}),methods:{getMessageDetail:function(t){console.log("-----getMessageDetail---------"),console.log("messageId : ",t),this.$store.dispatch("".concat(r["j"]),t),this.$router.push("board/Message")},paging:function(t){console.log("버튼 : ",t),this.$route.query.page=t,console.log("쿼리파라미터",this.$route.query.page),this.$store.dispatch("".concat(r["i"]),[this.boardId,this.$route.query.page])},setNoti:function(t,e){this.msg=t,this.type=e,this.dismissCountDown=3},countDownChanged:function(t){this.dismissCountDown=t},createMessage:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("".concat(r["c"]),this.message);case 2:if(e=t.sent,201===e){t.next=9;break}return 500===e&&(console.error("서버 에러"),this.setNoti("서버 에러","danger")),400===e&&(console.error("제목이 최소 3글자 되야함"),this.setNoti("제목이 최소 3글자 되야 함","danger")),404===e&&(console.error("사용자가 없음"),this.setNoti("사용자가 없음","danger")),4001===e&&(console.error("권한이 없음"),this.setNoti("권한이 없음","danger")),t.abrupt("return",!1);case 9:console.log("성공적으로 생성됨"),this.setNoti("성공적으로 생성됨","success");case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},filters:{dateToPritty:function(t){return l()(t).local().format("YYYY-MM-DD HH:mm:ss")}}}),p=g,h=s("2877"),b=Object(h["a"])(p,o,a,!1,null,null,null);b.options.__file="Board.vue";e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0e4eaa.569416b2.js.map