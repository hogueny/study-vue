(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224c96"],{e22e:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[-1!==t.user.id?s("div",{staticClass:"message-page"},[s("b-card",{attrs:{"header-tag":"header","footer-tag":"footer"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("i",{staticClass:"fa fa-align-justify"}),s("strong",[t._v("상세메시지")]),s("div",{staticClass:"card-header-actions"},[s("a",{staticClass:"card-header-action",attrs:{href:"https://bootstrap-vue.js.org/docs/components/list-group",rel:"noreferrer noopener",target:"_blank"}},[s("small",{staticClass:"text-muted"},[t._v("docs")])])])]),s("div",[s("table",{attrs:{width:""}},[s("tr",[s("th",[t._v("Id")]),s("th",[t._v("Title")]),s("th",[t._v("Contents")]),s("th",[t._v("RegDate")]),s("th",[t._v("modDate")])]),t._l(t.messages,function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.id)+" ")]),s("td",[t._v(t._s(e.title)+" ")]),s("td",[t._v(t._s(e.contents)+" ")]),s("td",[t._v(t._s(t._f("dateToPritty")(e.regDate))+" ")]),s("td",[t._v(t._s(t._f("dateToPritty")(e.modDate))+" ")])])})],2)])]),s("b-card",{attrs:{"header-tag":"header","footer-tag":"footer"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("i",{staticClass:"fa fa-align-justify"}),s("strong",[t._v("메시지 수정")]),s("div",{staticClass:"card-header-actions"},[s("a",{staticClass:"card-header-action",attrs:{href:"https://bootstrap-vue.js.org/docs/components/list-group",rel:"noreferrer noopener",target:"_blank"}},[s("small",{staticClass:"text-muted"},[t._v("docs")])])])]),t._l(t.messages,function(e){return s("b-list-group",{key:e.id},[s("b-list-group-item",[t._v("\n          제목 : \n          "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"item.title"}],attrs:{type:"text"},domProps:{value:e.title},on:{input:function(s){s.target.composing||t.$set(e,"title",s.target.value)}}}),s("br"),t._v("\n          내용 :\n          "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.contents,expression:"item.contents"}],attrs:{type:"text"},domProps:{value:e.contents},on:{input:function(s){s.target.composing||t.$set(e,"contents",s.target.value)}}}),s("br"),s("b-button",{attrs:{variant:"warning"},on:{click:function(s){t.updateMessage(e)}}},[t._v("수정")]),s("b-button",{attrs:{variant:"danger"},on:{click:function(s){t.removeMessage(e.id)}}},[t._v("삭제")])],1)],1)})],2)],1):s("div",[s("permission")],1),s("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.type},on:{dismissed:function(e){t.dismissCountdown=0},"dismiss-count-down":t.countDownChanged}},[t._v(t._s(t.msg))])],1)},n=[],o=(s("96cf"),s("1da1")),a=(s("7f7f"),s("be94")),i=s("a394"),c=s("2f62"),d=s("77bf"),u=s("c1df"),l=s.n(u),h=(s("4be7"),{name:"message-page",data:function(){return{message:{boardId:this.$route.query.id,title:"",contents:""},boardId:this.$route.query.id,dismissCountDown:0,msg:"",type:"success"}},components:{permission:d["default"]},created:function(){this.$store.dispatch("".concat(i["j"]),this.$route.query.boardId)},computed:Object(a["a"])({},Object(c["b"])(["user","boards","messages"]),{boardName:function(){return this.$route.query.name}}),methods:{setNoti:function(t,e){this.msg=t,this.type=e,this.dismissCountDown=3},countDownChanged:function(t){this.dismissCountDown=t},updateMessage:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("".concat(i["t"]),{boardId:e.boardId,messageId:e.id,title:e.title,contents:e.contents});case 2:if(s=t.sent,200===s){t.next=9;break}return 400===s&&(console.error("제목이 최소 3글자 되야함"),this.setNoti("제목이 최소 3글자 되야 함","danger")),404===s&&(console.error("없는 메시지"),this.setNoti("없는 메시지","danger")),401===s&&(console.error("권한이 없음"),this.setNoti("권한이 없음","danger")),500===s&&(console.error("서버 에러~"),this.setNoti("서버 에러","danger")),t.abrupt("return",!1);case 9:console.log("성공적으로 수정됨"),this.setNoti("성공적으로 수정됨","success");case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),removeMessage:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var s,r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("".concat(i["f"]),e);case 2:if(s=t.sent,204===s){t.next=24;break}if(404===s&&(console.error("없는 메시지"),this.setNoti("없는 메시지","danger")),401===s&&(console.error("권한이 없음"),this.setNoti("권한이 없음","danger")),500===s&&(console.error("서버 에러~"),this.setNoti("서버 에러","danger")),4401!==s){t.next=23;break}return console.error("토큰 만료"),this.setNoti("토큰 만료","danger"),t.next=12,this.$store.dispatch("".concat(i["n"]));case 12:if(r=t.sent,200!==r){t.next=21;break}return t.next=16,this.$store.dispatch("".concat(i["f"]),e);case 16:return n=t.sent,204!==n&&(404===s&&(console.error("없는 메시지"),this.setNoti("없는 메시지","danger")),401===s&&(console.error("권한이 없음"),this.setNoti("권한이 없음","danger")),500===s&&(console.error("서버 에러~"),this.setNoti("서버 에러","danger"))),console.log("성공적으로 삭제됨 2"),this.setNoti("성공적으로 삭제됨","success"),t.abrupt("return",!0);case 21:if(500!==r&&404!==refersh&&4404!==r){t.next=23;break}return t.abrupt("return",!1);case 23:return t.abrupt("return",!1);case 24:console.log("성공적으로 삭제됨"),this.setNoti("성공적으로 삭제됨","success");case 26:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},filters:{dateToPritty:function(t){return l()(t).local().format("YYYY-MM-DD HH:mm:ss")}}}),g=h,m=s("2877"),p=Object(m["a"])(g,r,n,!1,null,null,null);p.options.__file="BoardDetail.vue";e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d224c96.fe8025e6.js.map